(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{196:function(t,e,n){},197:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),c=n(26),o=n.n(c),r=n(11),s=n(12),l=n(14),u=n(13),d=n(15),h=n(76),m=n.n(h),p=n(78),b=n.n(p),f=n(48),E=n.n(f),j=function(t){function e(){return Object(r.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return i.a.createElement(a.Fragment,null,i.a.createElement(m.a,{position:"static"},i.a.createElement(b.a,null,i.a.createElement(E.a,{variant:"title",color:"inherit"},"The Garrison"))))}}]),e}(a.Component),v=n(79),O=n.n(v),k=n(49),g=n.n(k),y=n(80),C=n.n(y),w=n(35),N=n.n(w),S=n(36),T=n(200),_=function(t){function e(){var t,n;Object(r.a)(this,e);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(n=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(i)))).state={value:0},n.handleChange=function(t,e){n.setState({value:e})},n}return Object(d.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){var t=this.props.classes;return i.a.createElement(O.a,{value:this.state.value,onChange:this.handleChange,className:t.stickToBottom,showLabels:!0},i.a.createElement(g.a,{component:T.a,to:"/",label:"Drinks",icon:i.a.createElement(N.a,null)}),i.a.createElement(g.a,{component:T.a,to:"/create",label:"Create",icon:i.a.createElement(C.a,null)}))}}]),e}(a.Component),F=Object(S.withStyles)({stickToBottom:{width:"100%",position:"fixed",bottom:0}})(_),H=n(202),x=n(201),D=n(37),B=n.n(D),L=n(50),M=n.n(L),W=n(51),A=n.n(W),J=n(81),P=n.n(J),I=n(84),R=n.n(I),U=n(82),Y=n.n(U),G=n(83),q=n.n(G),z=n(17),K=function(t){function e(t){var n;return Object(r.a)(this,e),(n=Object(l.a)(this,Object(u.a)(e).call(this,t))).state={holding:!1,start:0,ended:"begin",clickEvent:null},n._timer=null,n._unmounted=!1,n.start=n.start.bind(Object(z.a)(Object(z.a)(n))),n.end=n.end.bind(Object(z.a)(Object(z.a)(n))),n.timeout=n.timeout.bind(Object(z.a)(Object(z.a)(n))),n.clickCapture=n.clickCapture.bind(Object(z.a)(Object(z.a)(n))),n}return Object(d.a)(e,t),Object(s.a)(e,[{key:"componentWillUnmount",value:function(){this._unmounted=!0,clearTimeout(this._timer),this._timer=null}},{key:"start",value:function(t){var e=this.state.ended,n=Date.now(),a=Object.assign({},t);a.type="ClickNHold",this.setState({start:n,holding:!0,ended:!1,clickEvent:a,isEnough:!1});var i=this.props.time&&this.props.time>0,c=i?this.props.time:2;i||console.warn("You have specified an unvalid time prop for ClickNHold. You need to specify a number > 0. Default time is 2."),e&&(this._timer=setTimeout(function(){this.timeout(n)}.bind(this),1e3*c+1)),this.props.onStart&&this.props.onStart(t),document.documentElement.addEventListener("mouseup",this.end)}},{key:"end",value:function(t){if(document.documentElement.removeEventListener("mouseup",this.end),this.state.ended||this._unmounted)return!1;var e=Date.now(),n=1e3*this.props.time,a=e-this.state.start>=n;this.setState({holding:!1,ended:!0,clickEvent:null,isEnough:a}),this.props.onEnd&&this.props.onEnd(t,a)}},{key:"clickCapture",value:function(t){this.state.isEnough&&t.stopPropagation()}},{key:"timeout",value:function(t){this.state.ended||t!==this.state.start||this.props.onClickNHold&&(this.props.onClickNHold(t,this.state.clickEvent),this.setState({holding:!1}))}},{key:"render",value:function(){var t=this,e=this.props.className?this.props.className+" ":" ";return e+=this.state.holding?"cnh_holding ":"",e+=this.state.ended?"cnh_ended ":"",i.a.createElement("div",{style:this.props.style,className:e,onMouseDown:this.start,onTouchStart:this.start,onMouseUp:this.end,onClickCapture:this.clickCapture,onTouchCancel:this.end,onTouchEnd:this.end},"object"===typeof this.props.children?Object(a.cloneElement)(this.props.children,{ref:function(e){return t.node=e}}):null)}}]),e}(a.Component);function Q(t){return window.location.origin+t}var V=function(t){return i.a.createElement(M.a,{button:!0,className:"true"},i.a.createElement(A.a,{inset:!0,primary:t.component.ingredient.name,secondary:i.a.createElement(i.a.Fragment,null,"".concat(t.component.measure," shots"))}))},X=function(t){function e(t){var n;return Object(r.a)(this,e),(n=Object(l.a)(this,Object(u.a)(e).call(this,t))).handleClick=function(t,e){e||n.setState(function(t){return{open:!t.open}})},n.state={data:n.props.data,open:!1},n}return Object(d.a)(e,t),Object(s.a)(e,[{key:"clickNHold",value:function(t){window.confirm("Is there a glass on the trolley?")&&(console.log("Making a ".concat(this.state.data.name)),function(t,e){var n={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)};return fetch(Q(t),n)}("/api/orders/",{ref:this.state.data.ref}).then(function(t){return t.json()}).then(function(t){return console.log(t)}).catch(function(t){return console.log(t)}))}},{key:"render",value:function(){var t=this.state.data.components.map(function(t){return i.a.createElement(V,{component:t,key:t.ingredient.ref})});return i.a.createElement(a.Fragment,null,i.a.createElement(K,{time:.6,onClickNHold:this.clickNHold.bind(this),onEnd:this.handleClick.bind(this)},i.a.createElement(a.Fragment,null,i.a.createElement(M.a,{button:!0},i.a.createElement(P.a,null,i.a.createElement(N.a,null)),i.a.createElement(A.a,{inset:!0,primary:this.state.data.name}),this.state.open?i.a.createElement(Y.a,null):i.a.createElement(q.a,null)))),i.a.createElement(R.a,{in:this.state.open,timeout:"auto",unmountOnExit:!0},i.a.createElement(B.a,{component:"div",disablePadding:!0},t)))}}]),e}(a.Component),Z=function(t){function e(t){var n;return Object(r.a)(this,e),(n=Object(l.a)(this,Object(u.a)(e).call(this,t))).state={drinks:[]},n}return Object(d.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){var t=this;fetch(Q("/api/drinks/")).then(function(t){return t.json()}).then(function(e){return t.setState({drinks:e.drinks||[]})}).catch(function(t){return console.log(t)})}},{key:"render",value:function(){var t=this.state.drinks.map(function(t){return i.a.createElement(X,{data:t,key:t.ref})});return i.a.createElement(a.Fragment,null,i.a.createElement(B.a,{component:"nav"},t))}}]),e}(a.Component),$=n(52),tt=n(39),et=n.n(tt),nt=function(t){function e(t){var n;return Object(r.a)(this,e),(n=Object(l.a)(this,Object(u.a)(e).call(this,t))).increase=function(t){return function(){n.setState(Object($.a)({},t,n.state[[t]]+1))}},n.decrease=function(t){return function(){0!==n.state[[t]]&&n.setState(Object($.a)({},t,n.state[[t]]-1))}},n.state={ingredients:[{location:"/api/ingredients/e3d4552b-cc2a-470b-a67f-15c83d0b7154",ref:"e3d4552b-cc2a-470b-a57f-15c83d0b7154",name:"water",alcoholic:!1,abs:null}],"e3d4552b-cc2a-470b-a57f-15c83d0b7154":0},n}return Object(d.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){var t=this.props.classes;return i.a.createElement(a.Fragment,null,this.state["e3d4552b-cc2a-470b-a57f-15c83d0b7154"],i.a.createElement(et.a,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",onClick:this.increase("e3d4552b-cc2a-470b-a57f-15c83d0b7154")}),i.a.createElement(et.a,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",onClick:this.decrease("e3d4552b-cc2a-470b-a57f-15c83d0b7154")}),i.a.createElement(et.a,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",className:t.stickToBottom},"Create"))}}]),e}(a.Component),at=Object(S.withStyles)(function(t){return{stickToBottom:{width:"96%",position:"fixed",left:0,bottom:60,marginLeft:t.spacing.unit,marginRight:t.spacing.unit},textField:{marginLeft:t.spacing.unit,marginRight:t.spacing.unit,width:200}}})(nt),it=function(t){function e(){return Object(r.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement(j,null),i.a.createElement(H.a,null,i.a.createElement(a.Fragment,null,i.a.createElement(x.a,{path:"/",exact:!0,component:Z}),i.a.createElement(x.a,{path:"/create/",component:at}),i.a.createElement(F,null))))}}]),e}(a.Component);n(196);o.a.render(i.a.createElement(it,null),document.getElementById("root"))},87:function(t,e,n){t.exports=n(197)}},[[87,1,2]]]);
//# sourceMappingURL=main.e1b23067.chunk.js.map